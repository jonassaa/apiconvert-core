{
  "inputFormat": "json",
  "outputFormat": "json",
  "rules": [
    {
      "kind": "field",
      "outputPaths": [
        "grade"
      ],
      "source": {
        "type": "condition",
        "expression": "path(score) >= 90",
        "trueSource": {
          "type": "constant",
          "value": "A"
        },
        "elseIf": [
          {
            "expression": "path(score) >= 80",
            "value": "B"
          },
          {
            "expression": "path(score) >= 70",
            "source": {
              "type": "constant",
              "value": "C"
            }
          }
        ],
        "falseSource": {
          "type": "constant",
          "value": "F"
        }
      }
    },
    {
      "kind": "field",
      "outputPaths": [
        "status"
      ],
      "source": {
        "type": "condition",
        "expression": "path(meta.state) == 'ok'",
        "trueSource": {
          "type": "constant",
          "value": "green"
        },
        "falseSource": {
          "type": "condition",
          "expression": "path(meta.state) == 'warn'",
          "trueSource": {
            "type": "constant",
            "value": "yellow"
          },
          "falseValue": "red"
        }
      }
    },
    {
      "kind": "field",
      "outputPaths": [
        "isEnabled"
      ],
      "source": {
        "type": "condition",
        "expression": "path(flags.enabled) == true",
        "conditionOutput": "match"
      }
    }
  ]
}
